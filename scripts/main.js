var main=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={},t={},a={},r={};Object.defineProperty(r,"__esModule",{value:!0}),r.SEARCH_INPUT_ID=r.PAGES_PER_PARTITION=r.MAX_PAGINATION_BUTTONS=r.PARTITION_SIZE=r.PAGE_SIZE=void 0,r.PAGE_SIZE=15,r.PARTITION_SIZE=100,r.MAX_PAGINATION_BUTTONS=30,r.PAGES_PER_PARTITION=100,r.SEARCH_INPUT_ID="feature-search";var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default={create:e=>({key:"",value:e,children:{}}),applyAndInsert(e,n,t,a,r){let i=e;for(const e of n)i.children[e]?r&&i.children[e].value&&r(i.children[e].value):i.children[e]={key:e,value:a&&a(),children:{}},i=i.children[e];return i.value=t,e},search(e,n){let t=e;for(const e of n){if(!t.children[e])return null;t=t.children[e]}return t.value||null}},function(n){var t=e&&e.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,o)}l((a=a.apply(e,n||[])).next())}))},a=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.featuresByPrefix=n.features=void 0;const s=r,o=a(i);let l=null,c=null;fetch("prefix-tree.json").then((e=>e.json())).then((e=>{c=e}));const d=-1,u=!1;n.features=(e,a,r)=>t(void 0,void 0,void 0,(function*(){const t=Math.floor(e/s.PAGES_PER_PARTITION),i=e%s.PAGES_PER_PARTITION;if(null!==l&&d===t&&u===a&&!r)return Promise.resolve({features:l.features[i],availablePages:l.availablePages});const o=a?window.failed.providers:window.data.providers,c=a?window.failed.pages:window.data.pages;return r?(0,n.featuresByPrefix)(r,o,e):o[t]().then((e=>(l={features:e,availablePages:c},{features:e[i],availablePages:c})))}));n.featuresByPrefix=(e,n,a)=>t(void 0,void 0,void 0,(function*(){if(null===c)return Promise.resolve({features:[],availablePages:0});const t=o.default.search(c,e);if(null===t)return Promise.resolve({features:[],availablePages:0});const{partition:r,page:i,start:d,size:u}=t,f=Math.floor((i+a)%s.PAGES_PER_PARTITION),p=r+Math.floor((i+a)/s.PAGES_PER_PARTITION),g=Math.ceil(u/s.PAGE_SIZE);let h;return h=f+1<s.PAGES_PER_PARTITION?[n[p]]:[n[p],n[p+1]],Promise.all(h.map((e=>e()))).then((e=>{const n=e.flat();let t;l={features:n,availablePages:g};const r=u-a*s.PAGE_SIZE;return t=r<s.PAGE_SIZE?n[f].slice(d,d+r):n[f].slice(d,s.PAGE_SIZE).concat(n[f+1].slice(0,Math.min(d,u-s.PAGE_SIZE))),{features:t,availablePages:g}}))}))}(a);var s={},o={exports:{}};o.exports=function(){
/*!
		   * mustache.js - Logic-less {{mustache}} templates with JavaScript
		   * http://github.com/janl/mustache.js
		   */
var e=Object.prototype.toString,n=Array.isArray||function(n){return"[object Array]"===e.call(n)};function t(e){return"function"==typeof e}function a(e){return n(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,n){return null!=e&&"object"==typeof e&&n in e}function s(e,n){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(n)}var o=RegExp.prototype.test;function l(e,n){return o.call(e,n)}var c=/\S/;function d(e){return!l(c,e)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function f(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return u[e]}))}var p=/\s*/,g=/\s+/,h=/\s*=/,v=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function b(e,t){if(!e)return[];var a,i,s,o=!1,l=[],c=[],u=[],f=!1,b=!1,x="",_=0;function T(){if(f&&!b)for(;u.length;)delete c[u.pop()];else u=[];f=!1,b=!1}function I(e){if("string"==typeof e&&(e=e.split(g,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(r(e[0])+"\\s*"),i=new RegExp("\\s*"+r(e[1])),s=new RegExp("\\s*"+r("}"+e[1]))}I(t||E.tags);for(var A,S,O,k,N,C,M=new P(e);!M.eos();){if(A=M.pos,O=M.scanUntil(a))for(var F=0,j=O.length;F<j;++F)d(k=O.charAt(F))?(u.push(c.length),x+=k):(b=!0,o=!0,x+=" "),c.push(["text",k,A,A+1]),A+=1,"\n"===k&&(T(),x="",_=0,o=!1);if(!M.scan(a))break;if(f=!0,S=M.scan(m)||"name",M.scan(p),"="===S?(O=M.scanUntil(h),M.scan(h),M.scanUntil(i)):"{"===S?(O=M.scanUntil(s),M.scan(v),M.scanUntil(i),S="&"):O=M.scanUntil(i),!M.scan(i))throw new Error("Unclosed tag at "+M.pos);if(N=">"==S?[S,O,A,M.pos,x,_,o]:[S,O,A,M.pos],_++,c.push(N),"#"===S||"^"===S)l.push(N);else if("/"===S){if(!(C=l.pop()))throw new Error('Unopened section "'+O+'" at '+A);if(C[1]!==O)throw new Error('Unclosed section "'+C[1]+'" at '+A)}else"name"===S||"{"===S||"&"===S?b=!0:"="===S&&I(O)}if(T(),C=l.pop())throw new Error('Unclosed section "'+C[1]+'" at '+M.pos);return w(y(c))}function y(e){for(var n,t,a=[],r=0,i=e.length;r<i;++r)(n=e[r])&&("text"===n[0]&&t&&"text"===t[0]?(t[1]+=n[1],t[3]=n[3]):(a.push(n),t=n));return a}function w(e){for(var n,t=[],a=t,r=[],i=0,s=e.length;i<s;++i)switch((n=e[i])[0]){case"#":case"^":a.push(n),r.push(n),a=n[4]=[];break;case"/":r.pop()[5]=n[2],a=r.length>0?r[r.length-1][4]:t;break;default:a.push(n)}return t}function P(e){this.string=e,this.tail=e,this.pos=0}function x(e,n){this.view=e,this.cache={".":this.view},this.parent=n}function _(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}P.prototype.eos=function(){return""===this.tail},P.prototype.scan=function(e){var n=this.tail.match(e);if(!n||0!==n.index)return"";var t=n[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t},P.prototype.scanUntil=function(e){var n,t=this.tail.search(e);switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},x.prototype.push=function(e){return new x(e,this)},x.prototype.lookup=function(e){var n,a=this.cache;if(a.hasOwnProperty(e))n=a[e];else{for(var r,o,l,c=this,d=!1;c;){if(e.indexOf(".")>0)for(r=c.view,o=e.split("."),l=0;null!=r&&l<o.length;)l===o.length-1&&(d=i(r,o[l])||s(r,o[l])),r=r[o[l++]];else r=c.view[e],d=i(c.view,e);if(d){n=r;break}c=c.parent}a[e]=n}return t(n)&&(n=n.call(this.view)),n},_.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},_.prototype.parse=function(e,n){var t=this.templateCache,a=e+":"+(n||E.tags).join(":"),r=void 0!==t,i=r?t.get(a):void 0;return null==i&&(i=b(e,n),r&&t.set(a,i)),i},_.prototype.render=function(e,n,t,a){var r=this.getConfigTags(a),i=this.parse(e,r),s=n instanceof x?n:new x(n,void 0);return this.renderTokens(i,s,t,e,a)},_.prototype.renderTokens=function(e,n,t,a,r){for(var i,s,o,l="",c=0,d=e.length;c<d;++c)o=void 0,"#"===(s=(i=e[c])[0])?o=this.renderSection(i,n,t,a,r):"^"===s?o=this.renderInverted(i,n,t,a,r):">"===s?o=this.renderPartial(i,n,t,r):"&"===s?o=this.unescapedValue(i,n):"name"===s?o=this.escapedValue(i,n,r):"text"===s&&(o=this.rawValue(i)),void 0!==o&&(l+=o);return l},_.prototype.renderSection=function(e,a,r,i,s){var o=this,l="",c=a.lookup(e[1]);function d(e){return o.render(e,a,r,s)}if(c){if(n(c))for(var u=0,f=c.length;u<f;++u)l+=this.renderTokens(e[4],a.push(c[u]),r,i,s);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)l+=this.renderTokens(e[4],a.push(c),r,i,s);else if(t(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(a.view,i.slice(e[3],e[5]),d))&&(l+=c)}else l+=this.renderTokens(e[4],a,r,i,s);return l}},_.prototype.renderInverted=function(e,t,a,r,i){var s=t.lookup(e[1]);if(!s||n(s)&&0===s.length)return this.renderTokens(e[4],t,a,r,i)},_.prototype.indentPartial=function(e,n,t){for(var a=n.replace(/[^ \t]/g,""),r=e.split("\n"),i=0;i<r.length;i++)r[i].length&&(i>0||!t)&&(r[i]=a+r[i]);return r.join("\n")},_.prototype.renderPartial=function(e,n,a,r){if(a){var i=this.getConfigTags(r),s=t(a)?a(e[1]):a[e[1]];if(null!=s){var o=e[6],l=e[5],c=e[4],d=s;0==l&&c&&(d=this.indentPartial(s,c,o));var u=this.parse(d,i);return this.renderTokens(u,n,a,d,r)}}},_.prototype.unescapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return t},_.prototype.escapedValue=function(e,n,t){var a=this.getConfigEscape(t)||E.escape,r=n.lookup(e[1]);if(null!=r)return"number"==typeof r&&a===E.escape?String(r):a(r)},_.prototype.rawValue=function(e){return e[1]},_.prototype.getConfigTags=function(e){return n(e)?e:e&&"object"==typeof e?e.tags:void 0},_.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!n(e)?e.escape:void 0};var E={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){T.templateCache=e},get templateCache(){return T.templateCache}},T=new _;return E.clearCache=function(){return T.clearCache()},E.parse=function(e,n){return T.parse(e,n)},E.render=function(e,n,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+a(e)+'" was given as the first argument for mustache#render(template, view, partials)');return T.render(e,n,t,r)},E.escape=f,E.Scanner=P,E.Context=x,E.Writer=_,E}();var l=o.exports,c=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s.genFeatureHtml=void 0;const d=c(l),u={scenario:'\n<div\n    {{#failed}}data-status="failed"{{/failed}}\n    class="scenario collapse bg-base-300 m-2 shadow-lg shadow-base-content"\n>\n    <input class="min-h-1" type="checkbox" />\n    <h2\n        class="text-base-content collapse-title text-md font-medium px-2 py-0.5 min-h-0 bg-opacity-50 {{#failed}}bg-error text-error-content{{/failed}}{{^failed}}bg-neutral text-neutral-content{{/failed}}"\n    >\n        {{name}}\n    </h2>\n    <ul class="collapse-content">\n        {{#before}}\n            {{> beforeAfter}}\n        {{/before}}\n        {{#steps}}\n            {{> step}}\n        {{/steps}}\n        {{#after}}\n            {{> beforeAfter}}\n        {{/after}}\n    </ul>\n</div>\n<div',step:'\n    <li class="pt-2 max-w-full">\n        <div>\n            <div class="flex flex-row justify-between text-md">\n                <div class="flex flex-row">\n                    <span class="font-bold">{{keyword}}</span>\n                    <span class="indent-2">{{name}}</span>\n                </div>\n                <div class="flex flex-row items-center">\n                    <p class="px-2">\n                        {{result.duration}}\n                    </p>\n                    {{ > status}}\n                </div>\n            </div>\n\n            <div class="max-w-[75%]">\n                {{#argumentz}}\n                    {{#argumentz}}\n                        <table class="table">\n                            {{#rows}}\n                                <tr>\n                                    {{#cells}}\n                                        <td>\n                                            {{.}}\n                                        </td>\n                                    {{/cells}}\n                                </tr>\n                            {{/rows}}\n                        </table>\n                    {{/argumentz}}\n                {{/argumentz}}\n            </div>\n        </div>\n        {{#embeddings}}\n            {{#isPng}}\n                <img src="data:image/png;base64,{{data}}" />\n            {{/isPng}}\n            {{#isJpeg}}\n                <img src="data:image/jpeg;base64,{{data}}" />\n            {{/isJpeg}}\n            {{#isText}}\n                <pre>{{{data}}}</pre>\n            {{/isText}}\n        {{/embeddings}}\n        {{#result.error_message}}\n            {{#match.location}}\n                <a className="text-primary underline">\n                    {{match.location}}\n                </a>\n            {{/match.location}}\n            <div className="max-h-96 overflow-y-auto p-4">\n                <code className="text-sm bg-base-100 text-base-content p-2">\n                    {{result.error_message}}\n                </code>\n            </div>\n        {{/result.error_message}}\n    </li>\n',status:'\n    {{#result.passed}}\n    <div class="badge badge-success gap-2">Passed</div>\n    {{/result.passed}}\n    {{#result.failed}}\n    <div class="badge badge-error gap-2">Failed</div>\n    {{/result.failed}}\n    {{#result.skipped}}\n    <div class="badge badge-warning gap-2">Skipped</div>\n    {{/result.skipped}}\n    {{#result.undefined}}\n    <div class="badge badge-warning gap-2">Undefined</div>\n    {{/result.undefined}}\n    {{#result.ambiguous}}\n    <div class="badge badge-warning gap-2">Ambiguous</div>\n    {{/result.ambiguous}}\n    {{#result.pending}}\n    <div class="badge badge-info gap-2">Pending</div>\n    {{/result.pending}}\n',beforeAfter:'\n <li class="pt-2 max-w-full">\n        <div>\n            <div class="flex flex-row justify-between text-md">\n                <div class="flex flex-row">\n                    <span class="font-bold">{{keyword}}</span>\n                    {{#match.location}}\n                        <span class="indent-2">{{match.location}}</span>\n                    {{/match.location}}\n                </div>\n                <div class="flex flex-row items-center">\n                    <p class="px-2">\n                        {{result.duration}}\n                    </p>\n                    {{ > status}}\n                </div>\n            </div>\n        </div>\n        {{#embeddings}}\n            {{#isPng}}\n                <img src="data:image/png;base64,{{data}}" />\n            {{/isPng}}\n            {{#isJpeg}}\n                <img src="data:image/jpeg;base64,{{data}}" />\n            {{/isJpeg}}\n            {{#isText}}\n                <pre>{{{data}}}</pre>\n            {{/isText}}\n        {{/embeddings}}\n        {{#result.error_message}}\n            {{#match.location}}\n                <a className="text-primary underline">\n                    {{match.location}}\n                </a>\n            {{/match.location}}\n            <div className="max-h-96 overflow-y-auto p-4">\n                <code className="text-sm bg-base-100 text-base-content p-2">\n                    {{result.error_message}}\n                </code>\n            </div>\n        {{/result.error_message}}\n    </li>\n'};s.genFeatureHtml=e=>d.default.render('{{#features}}\n<div\n    id={model.id}\n    class="page feature collapse bg-base-200 m-1 shadow-xl shadow-base-content"\n    data-name="{{name}}"\n    data-status="{{status}}"\n    {...props}\n>\n    <input class="min-h-1" type="checkbox" />\n    {{#failed}}\n        <div class="collapse-title rounded-md p-1 flex flex-row justify-between min-h-0 bg-opacity-50 bg-gradient-to-r from-error from-0% to-50% to-neutral">\n    {{/failed}}\n    {{^failed}}\n        <div class="collapse-title rounded-md p-1 flex flex-row justify-between min-h-0 bg-opacity-50 bg-gradient-to-r from-success from-0% to-50% to-neutral">\n    {{/failed}}\n        {{#failed}}\n            <h2 class="text-error-content text-md font-medium m-0 min-h-0">\n        {{/failed}}\n        {{^failed}}\n            <h2 class="text-success-content text-md font-medium m-0 min-h-0">\n        {{/failed}}\n            {{ name }}\n        </h2>\n        <div class="flex flex-row">\n            <div class="text-success h-full rounded-md w-24">\n                {{ stats.passed }} passed\n            </div>\n            <div class="text-error h-full rounded-md w-20">\n                {{ stats.failed }} failed\n            </div>\n            <div class="text-warning h-full rounded-md w-20">\n                {{ stats.skipped }} skipped\n            </div>\n        </div>\n    </div>\n\n    <div class="content collapse-content">\n        <ul>\n            {{ #elements }}\n                {{> scenario}}\n            {{/ elements}}\n        </ul>\n    </div>\n    </div>\n</div>\n{{/features}}',{features:e},u);var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.genPaginationElements=void 0;const p=r,g=(e,n)=>{const t=document.createElement("input"),a=e.toString();return t.type="radio",t.name="options",t.checked=0===e,t.className="pagination-button pagination-button-join-item btn btn-square",t.setAttribute("data-page",a),t.innerText=a,t.ariaLabel=a,t.addEventListener("click",(()=>{const e=t.getAttribute("data-page");null!==e&&n(parseInt(e))})),t};f.genPaginationElements=(e,n,t)=>{e>p.MAX_PAGINATION_BUTTONS?(n.appendChild(g(0,t)),n.appendChild((e=>{const n=document.createElement("input");return n.type="number",n.placeholder="...",n.className="input w-20 mx-4 text-center bg-base-300",n.addEventListener("change",(n=>{if(!(n.target instanceof HTMLInputElement))return;const t=parseInt(n.target.value);isNaN(t)||e(t)})),n})(t)),n.appendChild(g(e-1,t))):Array(e).fill(0).forEach(((e,a)=>{n.appendChild(g(a,t))}))};var h=e&&e.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(r,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,o)}l((a=a.apply(e,n||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initEngine=void 0;const v=a,m=s,b=f,y=document.getElementById("content");if(null===y)throw new Error("Content container not found");const w=document.getElementById("pagination");if(null===w)throw new Error("Pagination container not found");const P={pages:0,allScenarios:[],initialized:!1,searchFilter:"",failedFeaturesOnly:!1,failedScenariosOnly:e=>{for(const n of P.allScenarios)n instanceof HTMLElement&&(e&&"failed"!==n.getAttribute("data-status")?n.style.display="none":n.style.display="grid")},togglePage:e=>h(void 0,void 0,void 0,(function*(){const n=yield(0,v.features)(e,P.failedFeaturesOnly,P.searchFilter);y.innerHTML=(0,m.genFeatureHtml)(n.features),P.allScenarios.splice(0,P.allScenarios.length),P.allScenarios.push(...document.getElementsByClassName("scenario")),P.pages=n.availablePages})),updatePagination:()=>{w.innerHTML="",(0,b.genPaginationElements)(P.pages,w,(e=>x.togglePage(e)))},reset:()=>h(void 0,void 0,void 0,(function*(){yield P.togglePage(0),P.updatePagination()}))};t.initEngine=e=>{P.initialized||(P.failedFeaturesOnly=e,P.reset(),P.initialized=!0)};const x={setSearchFilter:e=>h(void 0,void 0,void 0,(function*(){P.searchFilter=e,P.reset()})),setFailedScenariosOnly:e=>{P.failedScenariosOnly(e)},setFailedFeaturesOnly:e=>h(void 0,void 0,void 0,(function*(){P.failedFeaturesOnly=e,P.reset()})),setFailedOnly:e=>{x.setFailedFeaturesOnly(e),x.setFailedScenariosOnly(e)},togglePage:e=>h(void 0,void 0,void 0,(function*(){P.togglePage(e)}))};t.default=x;var _={},E=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0}),_.default=function(e){const n=document.getElementById(T.SEARCH_INPUT_ID);null!==n&&n.addEventListener("change",(e=>{e.target instanceof HTMLInputElement&&I.default.setSearchFilter(e.target.value)}));const t=document.getElementById("fail-filter-feature");null!==t&&t.addEventListener("change",(e=>{e.target instanceof HTMLInputElement&&I.default.setFailedFeaturesOnly(e.target.checked)}));if(null===t||!(t instanceof HTMLInputElement))throw new Error("Couldn't find failed features filter checkbox");const a=document.getElementById("fail-filter-scenario");if(null===a||!(a instanceof HTMLInputElement))throw new Error("Couldn't find failed scenarios filter checkbox");null!==a&&a.addEventListener("change",(e=>{e.target instanceof HTMLInputElement&&I.default.setFailedScenariosOnly(e.target.checked)}));e&&(t.checked=!0,a.checked=!0)};const T=r,I=E(t);var A=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const S=A(t),O=A(_);return window.config.showFailedOnStart&&console.info("Showing failed features only on load"),S.default.setFailedOnly(window.config.showFailedOnStart),(0,O.default)(window.config.showFailedOnStart),n}();
